<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="700pt" height="1318pt" viewBox="36 36 664 1281.74"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(40 1277.7401)"><title>cache_fetch</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -1241.74 624 -1241.74 624 4 -4 4"/><g id="clust1" class="cluster"><title>cluster_backend</title><polygon fill="#f0f8ff" stroke="#f0f8ff" points="8 -8 8 -1229.74 612 -1229.74 612 -8 8 -8"/></g><g id="node1" class="node"><title>RETRY</title><text x="433" y="-1208.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">RETRY</text></g><g id="node4" class="node"><title>v_b_f</title><polygon fill="none" stroke="#000" points="207.5 -1049.24 207.5 -1118.24 396.5 -1118.24 396.5 -1049.24 207.5 -1049.24"/><text x="302" y="-1103.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">vbf_stp_startfetch:</text><polyline fill="none" stroke="#000" points="207.5 -1095.24 396.5 -1095.24"/><text x="273.5" y="-1080.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">vcl_backend_fetch{}</text><polyline fill="none" stroke="#000" points="339.5 -1072.24 339.5 -1095.24"/><text x="368" y="-1080.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">bereq.*</text><polyline fill="none" stroke="#000" points="207.5 -1072.24 396.5 -1072.24"/><text x="229.5" y="-1057.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">error</text><polyline fill="none" stroke="#000" points="251.5 -1049.24 251.5 -1072.24"/><text x="269.5" y="-1057.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">fail</text><polyline fill="none" stroke="#000" points="287.5 -1049.24 287.5 -1072.24"/><text x="319" y="-1057.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">abandon</text><polyline fill="none" stroke="#000" points="350.5 -1049.24 350.5 -1072.24"/><text x="373.5" y="-1057.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">fetch</text></g><g id="edge4" class="edge"><title>RETRY-&gt;v_b_f</title><path fill="none" stroke="#a020f0" d="M414.5087,-1193.6723C396.4206,-1175.9984 368.2234,-1148.447 344.5834,-1125.3483"/><polygon fill="#a020f0" stroke="#a020f0" points="347.008 -1122.824 337.409 -1118.339 342.116 -1127.831 347.008 -1122.824"/></g><g id="node2" class="node"><title>v_b_f_BGFETCH</title><polygon fill="#40e0d0" stroke="#40e0d0" points="384 -1229.74 306 -1229.74 306 -1193.74 384 -1193.74 384 -1229.74"/><text x="345" y="-1208.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">BGFETCH</text></g><g id="edge1" class="edge"><title>v_b_f_BGFETCH-&gt;v_b_f</title><path fill="none" stroke="#0f0" stroke-width="2" d="M338.9304,-1193.6723C333.2233,-1176.684 324.4506,-1150.5697 316.8873,-1128.0558"/><polygon fill="#0f0" stroke="#0f0" stroke-width="2" points="320.125 -1126.703 313.623 -1118.339 313.49 -1128.933 320.125 -1126.703"/></g><g id="node3" class="node"><title>v_b_f_FETCH</title><polygon fill="#40e0d0" stroke="#40e0d0" points="287.5 -1229.74 228.5 -1229.74 228.5 -1193.74 287.5 -1193.74 287.5 -1229.74"/><text x="258" y="-1208.04" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">FETCH</text></g><g id="edge2" class="edge"><title>v_b_f_FETCH-&gt;v_b_f</title><path fill="none" stroke="#00f" stroke-width="2" d="M259.3379,-1193.6723C263.4509,-1176.6078 271.9569,-1150.3353 280.422,-1127.7531"/><polygon fill="#00f" stroke="#00f" stroke-width="2" points="283.72 -1128.929 284.034 -1118.339 277.184 -1126.421 283.72 -1128.929"/></g><g id="edge3" class="edge"><title>v_b_f_FETCH-&gt;v_b_f</title><path fill="none" stroke="red" stroke-width="2" d="M269.0837,-1193.6723C276.6685,-1176.684 286.1736,-1150.5697 293.2243,-1128.0558"/><polygon fill="red" stroke="red" stroke-width="2" points="296.618 -1128.924 296.179 -1118.339 289.921 -1126.888 296.618 -1128.924"/></g><g id="node5" class="node"><title>v_b_e</title><polygon fill="none" stroke="#000" points="160 -538.5 160 -653.5 394 -653.5 394 -538.5 160 -538.5"/><text x="277" y="-638.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">vbf_stp_error:</text><polyline fill="none" stroke="#000" points="160 -630.5 394 -630.5"/><text x="235.5" y="-603.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">vcl_backend_error{}</text><polyline fill="none" stroke="#000" points="311 -584.5 311 -630.5"/><text x="352.5" y="-615.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">bereq.*</text><polyline fill="none" stroke="#000" points="311 -607.5 394 -607.5"/><text x="352.5" y="-592.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">beresp.*</text><polyline fill="none" stroke="#000" points="160 -584.5 394 -584.5"/><text x="219" y="-569.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">retry</text><polyline fill="none" stroke="#000" points="160 -561.5 278 -561.5"/><text x="177.5" y="-546.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">fail</text><polyline fill="none" stroke="#000" points="195 -538.5 195 -561.5"/><text x="218.5" y="-546.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">max?</text><polyline fill="none" stroke="#000" points="242 -538.5 242 -561.5"/><text x="260" y="-546.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ok?</text><polyline fill="none" stroke="#000" points="278 -538.5 278 -584.5"/><text x="309" y="-557.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">abandon</text><polyline fill="none" stroke="#000" points="340 -538.5 340 -584.5"/><text x="367" y="-557.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">deliver</text></g><g id="edge5" class="edge"><title>v_b_f:s-&gt;v_b_e</title><path fill="none" stroke="#000" d="M229,-1048.7401C229,-1032.0734 229,-1027.9068 229,-1011.2401 229,-1011.2401 229,-1011.2401 229,-691.5 229,-681.9283 230.9488,-672.3366 234.061,-663.1216"/><polygon fill="#000" stroke="#000" points="237.372 -664.262 237.692 -653.672 230.838 -661.751 237.372 -664.262"/></g><g id="node6" class="node"><title>v_b_hdrs</title><ellipse cx="374" cy="-946.87" fill="none" stroke="#000" rx="94.09" ry="26.741"/><text x="374" y="-950.67" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">send bereq,</text><text x="374" y="-935.67" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">read beresp (headers)</text></g><g id="edge6" class="edge"><title>v_b_f:s-&gt;v_b_hdrs</title><path fill="none" stroke="#000" stroke-width="2" d="M374,-1048.7401C374,-1027.4011 374,-1003.5478 374,-984.2904"/><polygon fill="#000" stroke="#000" stroke-width="2" points="377.5 -984.11 374 -974.11 370.5 -984.11 377.5 -984.11"/></g><g id="node13" class="node"><title>FETCH_DONE</title><polygon fill="#40e0d0" stroke="#40e0d0" points="410 -44 306 -44 306 -8 410 -8 410 -44"/><text x="358" y="-22.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">FETCH_DONE</text></g><g id="edge20" class="edge"><title>v_b_e:deliver-&gt;FETCH_DONE</title><path fill="none" stroke="#000" d="M367,-538C367,-474.7525 308,-471.7475 308,-408.5 308,-408.5 308,-408.5 308,-81.5 308,-69.8644 314.1412,-59.5678 322.1192,-51.1007"/><polygon fill="#000" stroke="#000" points="324.622 -53.551 329.495 -44.143 319.819 -48.459 324.622 -53.551"/><text x="353.5" y="-229.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">&quot;backend synth&quot;</text></g><g id="node15" class="node"><title>FETCH_FAIL</title><polygon fill="#40e0d0" stroke="#40e0d0" points="163 -342.5 67 -342.5 67 -306.5 163 -306.5 163 -342.5"/><text x="115" y="-320.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">FETCH_FAIL</text></g><g id="edge22" class="edge"><title>v_b_e:s-&gt;FETCH_FAIL</title><path fill="none" stroke="#000" d="M218,-538C218,-464.3488 167.6624,-389.3334 137.3673,-350.8555"/><polygon fill="#000" stroke="#000" points="139.861 -348.371 130.868 -342.769 134.404 -352.756 139.861 -348.371"/></g><g id="node16" class="node"><title>v_b_e_retry</title><text x="258" y="-320.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">RETRY</text></g><g id="edge21" class="edge"><title>v_b_e:retry-&gt;v_b_e_retry</title><path fill="none" stroke="#a020f0" d="M260,-538C260,-471.6476 259.0221,-393.7007 258.4339,-352.8154"/><polygon fill="#a020f0" stroke="#a020f0" points="261.933 -352.725 258.287 -342.777 254.934 -352.828 261.933 -352.725"/></g><g id="edge8" class="edge"><title>v_b_hdrs-&gt;v_b_e</title><path fill="none" stroke="#000" d="M294.1279,-932.588C269.6299,-923.2697 249,-907.8862 249,-882.5 249,-882.5 249,-882.5 249,-691.5 249,-682.3009 250.2111,-672.7974 252.1296,-663.5141"/><polygon fill="#000" stroke="#000" points="255.59 -664.087 254.465 -653.552 248.775 -662.489 255.59 -664.087"/></g><g id="node7" class="node"><title>v_b_r</title><polygon fill="none" stroke="#000" points="268.5 -729.5 268.5 -844.5 587.5 -844.5 587.5 -729.5 268.5 -729.5"/><text x="428" y="-829.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">vbf_stp_startfetch:</text><polyline fill="none" stroke="#000" points="268.5 -821.5 587.5 -821.5"/><text x="370.5" y="-794.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">vcl_backend_response{}</text><polyline fill="none" stroke="#000" points="472.5 -775.5 472.5 -821.5"/><text x="530" y="-806.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">bereq.*</text><polyline fill="none" stroke="#000" points="472.5 -798.5 587.5 -798.5"/><text x="530" y="-783.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">beresp.*</text><polyline fill="none" stroke="#000" points="268.5 -775.5 587.5 -775.5"/><text x="290" y="-748.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">error</text><polyline fill="none" stroke="#000" points="311.5 -729.5 311.5 -775.5"/><text x="329" y="-748.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">fail</text><polyline fill="none" stroke="#000" points="346.5 -729.5 346.5 -775.5"/><text x="388" y="-760.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">retry</text><polyline fill="none" stroke="#000" points="346.5 -752.5 429.5 -752.5"/><text x="370" y="-737.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">max?</text><polyline fill="none" stroke="#000" points="393.5 -729.5 393.5 -752.5"/><text x="411.5" y="-737.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">ok?</text><polyline fill="none" stroke="#000" points="429.5 -729.5 429.5 -775.5"/><text x="460.5" y="-748.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">abandon</text><polyline fill="none" stroke="#000" points="491.5 -729.5 491.5 -775.5"/><text x="539.5" y="-760.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">deliver or pass</text><polyline fill="none" stroke="#000" points="491.5 -752.5 587.5 -752.5"/><text x="513.5" y="-737.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">304?</text><polyline fill="none" stroke="#000" points="535.5 -729.5 535.5 -752.5"/><text x="561.5" y="-737.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">other?</text></g><g id="edge7" class="edge"><title>v_b_hdrs-&gt;v_b_r</title><path fill="none" stroke="#000" stroke-width="2" d="M383.0384,-920.1114C389.1342,-902.0645 397.4654,-877.3995 405.3007,-854.2027"/><polygon fill="#000" stroke="#000" stroke-width="2" points="408.62 -855.314 408.504 -844.719 401.988 -853.073 408.62 -855.314"/></g><g id="edge9" class="edge"><title>v_b_r:s-&gt;v_b_e</title><path fill="none" stroke="#000" d="M290,-729C290,-707.7663 288.3384,-684.7157 286.2033,-663.8614"/><polygon fill="#000" stroke="#000" points="289.672 -663.386 285.122 -653.818 282.713 -664.135 289.672 -663.386"/></g><g id="edge11" class="edge"><title>v_b_r:max-&gt;v_b_e</title><path fill="none" stroke="#000" d="M370,-729C370,-704.608 359.3644,-681.5034 345.2866,-661.605"/><polygon fill="#000" stroke="#000" points="348.076 -659.49 339.291 -653.568 342.465 -663.676 348.076 -659.49"/></g><g id="node8" class="node"><title>v_b_r_retry</title><text x="443" y="-592.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">RETRY</text></g><g id="edge10" class="edge"><title>v_b_r:retry-&gt;v_b_r_retry</title><path fill="none" stroke="#a020f0" d="M411,-729C411,-691.7258 423.0279,-650.1652 432.3354,-623.5842"/><polygon fill="#a020f0" stroke="#a020f0" points="435.63 -624.765 435.739 -614.17 429.047 -622.385 435.63 -624.765"/></g><g id="node9" class="node"><title>vbf_stp_condfetch</title><polygon fill="none" stroke="silver" points="387.5 -427.5 387.5 -519.5 508.5 -519.5 508.5 -427.5 387.5 -427.5"/><text x="448" y="-504.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">vbf_stp_condfetch:</text><polyline fill="none" stroke="silver" points="387.5 -496.5 508.5 -496.5"/><text x="448" y="-481.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">copy obj attr</text><polyline fill="none" stroke="silver" points="387.5 -473.5 508.5 -473.5"/><text x="448" y="-458.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">steal body</text><polyline fill="none" stroke="silver" points="387.5 -450.5 508.5 -450.5"/><text x="427" y="-435.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">fetch_fail?</text><polyline fill="none" stroke="silver" points="466.5 -427.5 466.5 -450.5"/><text x="487.5" y="-435.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">ok?</text></g><g id="edge12" class="edge"><title>v_b_r:s-&gt;vbf_stp_condfetch</title><path fill="none" stroke="#000" d="M514,-729C514,-718.25 486.4736,-548.1733 483,-538 481.9502,-534.9255 480.7623,-531.8235 479.4742,-528.7301"/><polygon fill="#000" stroke="#000" points="482.628 -527.208 475.347 -519.511 476.239 -530.068 482.628 -527.208"/></g><g id="node10" class="node"><title>vbf_stp_fetch</title><polygon fill="none" stroke="silver" points="512.5 -550 512.5 -642 611.5 -642 611.5 -550 512.5 -550"/><text x="562" y="-626.8" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">vbf_stp_fetch:</text><polyline fill="none" stroke="silver" points="512.5 -619 611.5 -619"/><text x="562" y="-603.8" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">setup VFPs</text><polyline fill="none" stroke="silver" points="512.5 -596 611.5 -596"/><text x="562" y="-580.8" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">get object</text><polyline fill="none" stroke="silver" points="512.5 -573 611.5 -573"/><text x="537" y="-557.8" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">error?</text><polyline fill="none" stroke="silver" points="561.5 -550 561.5 -573"/><text x="586.5" y="-557.8" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">body?</text></g><g id="edge13" class="edge"><title>v_b_r:s-&gt;vbf_stp_fetch</title><path fill="none" stroke="#000" d="M562,-729C562,-703.8578 562,-676.042 562,-652.3756"/><polygon fill="#000" stroke="#000" points="565.5 -652.164 562 -642.164 558.5 -652.164 565.5 -652.164"/></g><g id="node12" class="node"><title>vbf_stp_fetchend</title><polygon fill="none" stroke="silver" points="401.5 -119.5 401.5 -188.5 564.5 -188.5 564.5 -119.5 401.5 -119.5"/><text x="483" y="-173.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">vbf_stp_fetchend:</text><polyline fill="none" stroke="silver" points="401.5 -165.5 564.5 -165.5"/><text x="483" y="-150.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">finalize object and director</text><polyline fill="none" stroke="silver" points="401.5 -142.5 564.5 -142.5"/><text x="483" y="-127.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">done</text></g><g id="edge18" class="edge"><title>vbf_stp_condfetch:s-&gt;vbf_stp_fetchend</title><path fill="none" stroke="#000" d="M488,-427.5C488,-389.8893 440.3317,-405.344 425,-371 408.1508,-333.2568 416.0301,-318.3483 425,-278 431.2607,-249.8383 444.6245,-220.5039 456.9478,-197.4406"/><polygon fill="#000" stroke="#000" points="460.053 -199.058 461.781 -188.605 453.911 -195.698 460.053 -199.058"/></g><g id="node11" class="node"><title>vbf_stp_fetchbody</title><polygon fill="none" stroke="silver" points="433.5 -278.5 433.5 -370.5 592.5 -370.5 592.5 -278.5 433.5 -278.5"/><text x="513" y="-355.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">vbf_stp_fetchbody:</text><polyline fill="none" stroke="silver" points="433.5 -347.5 592.5 -347.5"/><text x="513" y="-332.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">get storage</text><polyline fill="none" stroke="silver" points="433.5 -324.5 592.5 -324.5"/><text x="513" y="-309.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">read body, run VFPs</text><polyline fill="none" stroke="silver" points="433.5 -301.5 592.5 -301.5"/><text x="470.5" y="-286.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">fetch_fail?</text><polyline fill="none" stroke="silver" points="507.5 -278.5 507.5 -301.5"/><text x="532" y="-286.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">error?</text><polyline fill="none" stroke="silver" points="556.5 -278.5 556.5 -301.5"/><text x="574.5" y="-286.3" fill="silver" font-family="Times,serif" font-size="14" text-anchor="middle">ok?</text></g><g id="edge15" class="edge"><title>vbf_stp_fetch:s-&gt;vbf_stp_fetchbody</title><path fill="none" stroke="#000" d="M587,-550C587,-489.6065 562.7413,-424.4469 542.0029,-379.7771"/><polygon fill="#000" stroke="#000" points="545.084 -378.105 537.641 -370.565 538.757 -381.101 545.084 -378.105"/></g><g id="edge16" class="edge"><title>vbf_stp_fetch:s-&gt;vbf_stp_fetchend</title><path fill="none" stroke="#000" d="M587,-550C587,-486.2129 611,-472.2871 611,-408.5 611,-408.5 611,-408.5 611,-233.5 611,-209.5885 594.6814,-192.6171 573.6976,-180.6783"/><polygon fill="#000" stroke="#000" points="575.273 -177.553 564.789 -176.025 572.032 -183.757 575.273 -177.553"/></g><g id="edge14" class="edge"><title>vbf_stp_fetchbody:s-&gt;vbf_stp_fetchend</title><path fill="none" stroke="#000" d="M575,-278.5C575,-246.7479 555.4055,-217.7865 534.3022,-195.8028"/><polygon fill="#000" stroke="#000" points="536.662 -193.213 527.114 -188.621 531.714 -198.165 536.662 -193.213"/></g><g id="edge17" class="edge"><title>vbf_stp_fetchend:s-&gt;FETCH_DONE</title><path fill="none" stroke="#000" d="M483,-119C483,-84.0415 451.1405,-60.6773 419.5902,-46.1107"/><polygon fill="#000" stroke="#000" points="420.852 -42.843 410.287 -42.051 418.053 -49.259 420.852 -42.843"/></g><g id="node14" class="node"><title>fail</title><text x="115" y="-592.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">fail</text></g><g id="edge19" class="edge"><title>fail-&gt;FETCH_FAIL</title><path fill="none" stroke="#000" d="M115,-577.7645C115,-531.3959 115,-408.719 115,-352.8885"/><polygon fill="#000" stroke="#000" points="118.5 -352.656 115 -342.656 111.5 -352.656 118.5 -352.656"/></g><g id="node17" class="node"><title>abandon</title><text x="39" y="-592.3" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">abandon</text></g><g id="edge23" class="edge"><title>abandon-&gt;FETCH_FAIL</title><path fill="none" stroke="#000" d="M44.1046,-577.7645C57.1114,-531.2993 91.5681,-408.2075 107.1507,-352.5404"/><polygon fill="#000" stroke="#000" points="110.592 -353.229 109.918 -342.656 103.852 -351.342 110.592 -353.229"/></g></g></svg>